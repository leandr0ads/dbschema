<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Tabela Criada</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
    <h1>Definição da Tabela</h1>
    <h3 th:text="'Tabela: ' + ${tableDefinition.tableName}"></h3>

    <table class="table table-bordered mt-4">
        <thead>
        <tr>
            <th>Nome</th>
            <th>Tipo</th>
            <th>Tamanho</th>
            <th>Chave Primária</th>
            <th>Auto Incremento</th>
            <th>Nullable</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="column : ${tableDefinition.columns}">
            <td th:text="${column.name}"></td>
            <td th:text="${column.type}"></td>
            <td th:text="${column.length}"></td>
            <td th:text="${column.primaryKey} ? 'Sim' : 'Não'"></td>
            <td th:text="${column.autoIncrement} ? 'Sim' : 'Não'"></td>
            <td th:text="${column.nullable} ? 'Sim' : 'Não'"></td>
        </tr>
        </tbody>
    </table>

    <div class="mt-4">
        <h4>SQL Gerado:</h4>
        <pre>
CREATE TABLE <span th:text="${tableDefinition.tableName}"></span> (
            <span th:each="column,iterStat : ${tableDefinition.columns}">
                <span th:text="${column.name}"></span> <span th:text="${column.type}"></span>
                <span th:if="${column.type == 'VARCHAR' and column.length != null}">(<span th:text="${column.length}"></span>)</span>
                <span th:if="${column.primaryKey}"> PRIMARY KEY</span>
                <span th:if="${column.autoIncrement}"> AUTO_INCREMENT</span>
                <span th:if="${not column.nullable}"> NOT NULL</span>
                <span th:unless="${iterStat.last}">,</span>
            </span>
        );
        </pre>
    </div>

    <a href="/" class="btn btn-primary">Voltar</a>
</div>
</body>
</html>